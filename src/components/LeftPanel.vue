<template>
    <!-- Â∑¶‰æßËΩ®ÈÅìÈù¢Êùø -->
    <div class="sidebar track-panel">
        <h2 class="track-title">Â£∞ËΩ®Âå∫</h2>

        <div class="track-controls">
            <button class="control-btn" title="ÈùôÈü≥" @click="mute">M</button>
            <button class="control-btn" title="Áã¨Â•è" @click="solo">S</button>
            <button class="control-btn" title="ÂΩïÈü≥" @click="record">üé§</button>
            <button class="control-btn" title="Èí¢Áê¥Âç∑ËΩ¥" @click="openPianoRoll">üéπ</button>
        </div>

        <button class="add-track-btn" @click="addTrack">+ Ê∑ªÂä†Â£∞ËΩ®</button>

        <div class="volume-section">
            <label for="volume-control" class="volume-label">‰∏ªÂ£∞ËΩ®Èü≥Èáè</label>
            <input type="range" id="volume-control" min="0" max="100" v-model="volume" class="volume-range" />
        </div>
    </div>
</template>

<script>
export default {
    data() {
        return {
            volume: 80
        }
    },
    methods: {
        addTrack() {
            fetch('/add_track', { method: 'POST' })
                .then(res => res.json())
                .then(data => {
                    alert('Ê∑ªÂä†Â£∞ËΩ®ÊàêÂäü')
                    console.log(data.note_blocks) // ÂèØÊõø‰ª£ renderNoteBlocks(data.note_blocks)
                    // Ë∞ÉÁî®Â≠êÁªÑ‰ª∂/‰∫ã‰ª∂Êàñ Vue Áä∂ÊÄÅÊõ¥Êñ∞ÈÄªËæë
                })
                .catch(err => {
                    console.error(err)
                    alert('Ë∞ÉÁî®Â§±Ë¥•')
                })
        },
        mute() {
            console.log("ÈùôÈü≥")
        },
        solo() {
            console.log("Áã¨Â•è")
        },
        record() {
            console.log("ÂΩïÈü≥")
        },
        openPianoRoll() {
            console.log("ÊâìÂºÄÈí¢Áê¥Âç∑ËΩ¥")
        }
    }
}
</script>

<style scoped>
.sidebar,
.track-panel {
    background-color: #1e1e1e;
    padding: 20px 14px 0 14px;
    height: 100vh;
    overflow-y: auto;
    box-sizing: border-box;
    width: 220px;
    display: flex;
    flex-direction: column;
    align-items: stretch;
}

.track-title {
    font-size: 1.1rem;
    font-weight: bold;
    margin-bottom: 16px;
    color: #fff;
    letter-spacing: 0.8px;
}

.track-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
}

.control-btn {
    background: #232323;
    border: none;
    color: #bbb;
    font-size: 1rem;
    border-radius: 5px;
    padding: 6px 10px;
    cursor: pointer;
    transition: background 0.2s, color 0.2s, transform 0.1s;
}

.control-btn:hover {
    background: #0d6efd;
    color: #fff;
    transform: translateY(-1.5px) scale(1.05);
}

.add-track-btn {
    width: 100%;
    padding: 10px 0;
    background: linear-gradient(90deg, #0d6efd 60%, #38b6ff 100%);
    border: none;
    color: #fff;
    border-radius: 6px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    margin: 14px 0 24px 0;
    box-shadow: 0 1px 6px #0002;
    transition: background 0.2s, transform 0.1s;
    letter-spacing: 0.8px;
}

.add-track-btn:hover {
    background: linear-gradient(90deg, #38b6ff 0%, #0d6efd 100%);
    transform: translateY(-1.5px) scale(1.02);
    box-shadow: 0 3px 12px #0d6efd33;
}

.volume-section {
    margin-top: 8px;
}

.volume-label {
    font-size: 0.95rem;
    font-weight: 500;
    margin-bottom: 6px;
    display: block;
    color: #eee;
}

.volume-range {
    width: 100%;
    accent-color: #0d6efd;
    margin-bottom: 8px;
}

.left-panel,
.right-panel {
    width: 220px;
    background: #1e1e1e;
}
</style>
